<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修结对编程（java实现）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>结对编程（java实现）</center></div><div class='banquan'>原文出处:本文由博客园博主酸不爽提供。<br/>
原文连接:https://www.cnblogs.com/390-xie/p/11686734.html</div><br>
    <h4>作者：谢伟洁3117004673&nbsp;</h4>
<p>&nbsp;</p>
<h2>一、Github项目地址：&nbsp;https://github.com/jack-xie460/mytest.git</h2>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>二、PSP表格</h2>
<table>
<tbody>
<tr>
<td width="298">
<p><strong><strong>PSP2.1</strong></strong></p>
</td>
<td width="279">
<p><strong><strong>Personal Software Process Stages</strong></strong></p>
</td>
<td width="125">
<p><strong><strong>预估耗时（分钟）</strong></strong></p>
</td>
<td width="125">
<p><strong><strong>实际耗时（分钟）</strong></strong></p>
</td>
</tr>
<tr>
<td width="298">
<p>Planning</p>
</td>
<td width="279">
<p>计划</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>&middot; Estimate</p>
</td>
<td width="279">
<p>&middot; 估计这个任务需要多少时间</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>Development</p>
</td>
<td width="279">
<p>开发</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>&middot; Analysis</p>
</td>
<td width="279">
<p>&middot; 需求分析 (包括学习新技术)</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>&middot; Design Spec</p>
</td>
<td width="279">
<p>&middot; 生成设计文档</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>&middot; Design Review</p>
</td>
<td width="279">
<p>&middot; 设计复审 (和同事审核设计文档)</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>&middot; Coding Standard</p>
</td>
<td width="279">
<p>&middot; 代码规范 (为目前的开发制定合适的规范)</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>&middot; Design</p>
</td>
<td width="279">
<p>&middot; 具体设计</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>&middot; Coding</p>
</td>
<td width="279">
<p>&middot; 具体编码</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>&middot; Code Review</p>
</td>
<td width="279">
<p>&middot; 代码复审</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>&middot; Test</p>
</td>
<td width="279">
<p>&middot; 测试（自我测试，修改代码，提交修改）</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>Reporting</p>
</td>
<td width="279">
<p>报告</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>&middot; Test Report</p>
</td>
<td width="279">
<p>&middot; 测试报告</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>&middot; Size Measurement</p>
</td>
<td width="279">
<p>&middot; 计算工作量</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>&middot; Postmortem &amp; Process Improvement Plan</p>
</td>
<td width="279">
<p>&middot; 事后总结, 并提出过程改进计划</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
<tr>
<td width="298">
<p>合计</p>
</td>
<td width="279">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
<td width="125">
<p>&nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h2>&nbsp;三、效能分析</h2>
<p>生成10000道50以内的题目耗时340ms</p>
<p>统计10000道题目的对错耗时119ms</p>
<p>速度还行！</p>
<p>&nbsp;</p>
<p>&nbsp;<img src="./images/结对编程（java实现）0.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>四、实现过程</h2>
<p>1.执行Produce类的start方法，程序开始运行，首先通过调用AmountOfNum类来判断输入指令是否正确，正确则返回题目数量，</p>
<p>通过调用BoundOfNum类来判断输入指令是否正确,正确则返回数值范围的最大值；</p>
<p>2.Produce类调用Expression类随机生成表达式，表达式又可通过子表达式和数值之间随机结合，而子表达式又可通过数值随机</p>
<p>结合，从而生成各种各样的表达式；</p>
<p>3.生成的表达式传入Calculate类，在Calculate中，通过调用houzhuiexp方法将传入的中缀表达式转化为后缀表达式，然后调用</p>
<p>calculate方法调用递归方法recusion对后缀表达式进行计算产生结果，；</p>
<p>4.将产生的题目和结果循环打印到相应的文件中；</p>
<p>5.执行Judge类来中的start方法进行对错统计，首先通过调用ExtractPath类来判断输入指令是否正确，正确则返回题目文档和</p>
<p>答案文档的路径，然后进行对错统计。</p>
<h4>6.各个类之间的协同合作图：</h4>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><img src="./images/结对编程（java实现）1.png" alt="" width="1215" height="584" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>五、代码说明</h2>
<p>&nbsp;1.通过输入指令生成题目文档和答案文档的代码：</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('17199d27-779b-4728-8d35-cd0c71a59eb1')"><img id="code_img_closed_17199d27-779b-4728-8d35-cd0c71a59eb1" class="code_img_closed" src="./images/结对编程（java实现）2.png" alt="" /><img id="code_img_opened_17199d27-779b-4728-8d35-cd0c71a59eb1" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('17199d27-779b-4728-8d35-cd0c71a59eb1',event)" src="./images/结对编程（java实现）3.png" alt="" />
<src id="cnblogs_code_open_17199d27-779b-4728-8d35-cd0c71a59eb1" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> jieduitest01;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.File;
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.FileWriter;
</span><span style="color: #008080;"> 5</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.IOException;
</span><span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span> <span style="color: #008000;">//</span><span style="color: #008000;">控制台输入命令，生成题目和答案放在对应文档中</span>
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Produce 
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">{
</span><span style="color: #008080;">10</span>     
<span style="color: #008080;">11</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> start() <span style="color: #0000ff;">throws</span><span style="color: #000000;"> IOException 
</span><span style="color: #008080;">12</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">13</span>         
<span style="color: #008080;">14</span>         File exerciseFile = <span style="color: #0000ff;">new</span> File("E:\\java\\结对作业\\src\\jieduitest01\\Exercises.txt"<span style="color: #000000;">);
</span><span style="color: #008080;">15</span>         File answerFile = <span style="color: #0000ff;">new</span> File("E:\\java\\结对作业\\src\\jieduitest01\\Answer.txt"<span style="color: #000000;">);
</span><span style="color: #008080;">16</span>         FileWriter writeToExercisefile =<span style="color: #0000ff;">new</span><span style="color: #000000;"> FileWriter(exerciseFile);
</span><span style="color: #008080;">17</span>         FileWriter writeToAnswerfile =<span style="color: #0000ff;">new</span><span style="color: #000000;"> FileWriter(answerFile);
</span><span style="color: #008080;">18</span>         
<span style="color: #008080;">19</span>         System.out.println("请输入您想要生成的题目数量：（例如生成10道题目的格式：-n 10）"<span style="color: #000000;">);
</span><span style="color: #008080;">20</span>         <span style="color: #0000ff;">while</span>(!<span style="color: #000000;">AmountOfExp.method()) {}
</span><span style="color: #008080;">21</span>         <span style="color: #0000ff;">int</span> amount =<span style="color: #000000;"> AmountOfExp.getAmount();
</span><span style="color: #008080;">22</span>         
<span style="color: #008080;">23</span>         System.out.println("请输入您想要生成的题目中数值的范围：（例如数值在10以内格式：-r 10）"<span style="color: #000000;">);
</span><span style="color: #008080;">24</span>         <span style="color: #0000ff;">while</span> (!<span style="color: #000000;">BoundOfNum.method()) {}
</span><span style="color: #008080;">25</span>         <span style="color: #0000ff;">int</span> bound =<span style="color: #000000;"> BoundOfNum.getBound();
</span><span style="color: #008080;">26</span>         
<span style="color: #008080;">27</span> <span style="color: #000000;">        String expression;
</span><span style="color: #008080;">28</span>         <span style="color: #008000;">//</span><span style="color: #008000;">可变数组存储后缀表达式用以查重</span>
<span style="color: #008080;">29</span>         StringBuilder expressionSet = <span style="color: #0000ff;">new</span><span style="color: #000000;"> StringBuilder();
</span><span style="color: #008080;">30</span>         <span style="color: #008000;">//</span><span style="color: #008000;">循环打印题目和答案</span>
<span style="color: #008080;">31</span>         <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i=0;i&lt;amount;i++<span style="color: #000000;">) 
</span><span style="color: #008080;">32</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">33</span>             expression =<span style="color: #000000;">Expression.expression(bound);
</span><span style="color: #008080;">34</span>             Calculate cal = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Calculate(expression);
</span><span style="color: #008080;">35</span>             String houzhuiExp =<span style="color: #000000;"> cal.houzhuiexp();
</span><span style="color: #008080;">36</span>             
<span style="color: #008080;">37</span>             <span style="color: #008000;">//</span><span style="color: #008000;">产生的后缀表达式与之前的重复，即产生相同的题目</span>
<span style="color: #008080;">38</span>             <span style="color: #0000ff;">if</span>(expression.indexOf(houzhuiExp)!=-1<span style="color: #000000;">) 
</span><span style="color: #008080;">39</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">40</span>                 i--<span style="color: #000000;">;
</span><span style="color: #008080;">41</span>                 <span style="color: #0000ff;">continue</span><span style="color: #000000;">;
</span><span style="color: #008080;">42</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">43</span>             
<span style="color: #008080;">44</span> <span style="color: #000000;">            expressionSet.append(houzhuiExp);
</span><span style="color: #008080;">45</span>             String result =<span style="color: #000000;"> cal.calculate();
</span><span style="color: #008080;">46</span>             
<span style="color: #008080;">47</span>             <span style="color: #008000;">//</span><span style="color: #008000;">计算过程产生负数</span>
<span style="color: #008080;">48</span>             <span style="color: #0000ff;">if</span>(result.equals("?"<span style="color: #000000;">)) 
</span><span style="color: #008080;">49</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">50</span>                 i--<span style="color: #000000;">;
</span><span style="color: #008080;">51</span>                 <span style="color: #0000ff;">continue</span><span style="color: #000000;">;
</span><span style="color: #008080;">52</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">53</span>             
<span style="color: #008080;">54</span>             writeToExercisefile.write(i+1 +" 、" + expression + "="+"\n"<span style="color: #000000;">);
</span><span style="color: #008080;">55</span>             writeToAnswerfile.write(i+1 +"、" + result + "\n"<span style="color: #000000;"> );
</span><span style="color: #008080;">56</span>             
<span style="color: #008080;">57</span> <span style="color: #000000;">        }    
</span><span style="color: #008080;">58</span> <span style="color: #000000;">        writeToExercisefile.close();
</span><span style="color: #008080;">59</span> <span style="color: #000000;">        writeToAnswerfile.close();
</span><span style="color: #008080;">60</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">61</span> 
<span style="color: #008080;">62</span>     
<span style="color: #008080;">63</span> }    </code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<src class="cnblogs_code" onclick="cnblogs_code_show('3f6a2d8a-bb71-4d35-a10a-4ae703836e0f')"><img id="code_img_closed_3f6a2d8a-bb71-4d35-a10a-4ae703836e0f" class="code_img_closed" src="./images/结对编程（java实现）2.png" alt="" /><img id="code_img_opened_3f6a2d8a-bb71-4d35-a10a-4ae703836e0f" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('3f6a2d8a-bb71-4d35-a10a-4ae703836e0f',event)" src="./images/结对编程（java实现）3.png" alt="" />
<src id="cnblogs_code_open_3f6a2d8a-bb71-4d35-a10a-4ae703836e0f" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> jieduitest01;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.Scanner;
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.regex.Matcher;
</span><span style="color: #008080;"> 5</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.regex.Pattern;
</span><span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span> <span style="color: #008000;">//</span><span style="color: #008000;">使用 -n 参数控制生成题目的个数</span>
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> AmountOfExp
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">{
</span><span style="color: #008080;">10</span>     
<span style="color: #008080;">11</span>     <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> amount;
</span><span style="color: #008080;">12</span>     
<span style="color: #008080;">13</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> getAmount() 
</span><span style="color: #008080;">14</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">15</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> amount;
</span><span style="color: #008080;">16</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">17</span>     
<span style="color: #008080;">18</span>     <span style="color: #008000;">//</span><span style="color: #008000;">判断输入指令，并从正确输入指令中提取生成题目的数量</span>
<span style="color: #008080;">19</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">boolean</span><span style="color: #000000;"> method()
</span><span style="color: #008080;">20</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">21</span>         
<span style="color: #008080;">22</span>         Pattern p = Pattern.compile("(-)(n)(\\s+)(\\d{1,})"<span style="color: #000000;">);
</span><span style="color: #008080;">23</span>         Scanner scan = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Scanner(System.in);
</span><span style="color: #008080;">24</span>         String str =<span style="color: #000000;"> scan.nextLine();
</span><span style="color: #008080;">25</span>         Matcher m =<span style="color: #000000;"> p.matcher(str);
</span><span style="color: #008080;">26</span>         <span style="color: #0000ff;">boolean</span> bo =<span style="color: #000000;"> m.matches();
</span><span style="color: #008080;">27</span> <span style="color: #000000;">        String[] sarr ;
</span><span style="color: #008080;">28</span>         <span style="color: #0000ff;">if</span>(!<span style="color: #000000;">bo) 
</span><span style="color: #008080;">29</span>             System.out.println("您输入的格式不合法，请按照格式重新输入，例如：-n 10"<span style="color: #000000;">);
</span><span style="color: #008080;">30</span>         <span style="color: #0000ff;">else</span> 
<span style="color: #008080;">31</span> <span style="color: #000000;">        { 
</span><span style="color: #008080;">32</span>             sarr = str.split("\\s+"<span style="color: #000000;">);
</span><span style="color: #008080;">33</span>             amount = Integer.parseInt(sarr[1<span style="color: #000000;">]);
</span><span style="color: #008080;">34</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">35</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> bo;
</span><span style="color: #008080;">36</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">37</span> 
<span style="color: #008080;">38</span> }</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>&nbsp;</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('92e72809-5cea-4578-86f7-15fb877db477')"><img id="code_img_closed_92e72809-5cea-4578-86f7-15fb877db477" class="code_img_closed" src="./images/结对编程（java实现）2.png" alt="" /><img id="code_img_opened_92e72809-5cea-4578-86f7-15fb877db477" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('92e72809-5cea-4578-86f7-15fb877db477',event)" src="./images/结对编程（java实现）3.png" alt="" />
<src id="cnblogs_code_open_92e72809-5cea-4578-86f7-15fb877db477" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> jieduitest01;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.Scanner;
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.regex.Matcher;
</span><span style="color: #008080;"> 5</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.regex.Pattern;
</span><span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span> <span style="color: #008000;">//</span><span style="color: #008000;">使用 -r 参数控制题目中数值范围</span>
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> BoundOfNum 
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">{
</span><span style="color: #008080;">10</span> 
<span style="color: #008080;">11</span>     <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> bound;
</span><span style="color: #008080;">12</span>     
<span style="color: #008080;">13</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> getBound()
</span><span style="color: #008080;">14</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">15</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> bound;
</span><span style="color: #008080;">16</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">17</span>     
<span style="color: #008080;">18</span>     <span style="color: #008000;">//</span><span style="color: #008000;">判断输入指令，并从输入指令中提取题目中数值的范围</span>
<span style="color: #008080;">19</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">boolean</span><span style="color: #000000;"> method()
</span><span style="color: #008080;">20</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">21</span>         
<span style="color: #008080;">22</span>         Pattern p = Pattern.compile("-r\\s+\\d+"<span style="color: #000000;">);
</span><span style="color: #008080;">23</span>         Scanner scan = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Scanner(System.in);
</span><span style="color: #008080;">24</span>         String str =<span style="color: #000000;"> scan.nextLine();
</span><span style="color: #008080;">25</span> <span style="color: #000000;">        String[] sarr ;
</span><span style="color: #008080;">26</span>         Matcher m =<span style="color: #000000;"> p.matcher(str);
</span><span style="color: #008080;">27</span>         <span style="color: #0000ff;">boolean</span> bo =<span style="color: #000000;"> m.matches();
</span><span style="color: #008080;">28</span>         <span style="color: #0000ff;">if</span>(!<span style="color: #000000;">bo) 
</span><span style="color: #008080;">29</span>             System.out.println("您输入的格式不合法，请按照格式重新输入，例如：-r 10"<span style="color: #000000;">);
</span><span style="color: #008080;">30</span>         <span style="color: #0000ff;">else</span> 
<span style="color: #008080;">31</span> <span style="color: #000000;">        { 
</span><span style="color: #008080;">32</span>             sarr = str.split("\\s+"<span style="color: #000000;">);
</span><span style="color: #008080;">33</span>             bound = Integer.parseInt(sarr[1<span style="color: #000000;">]);
</span><span style="color: #008080;">34</span> <span style="color: #000000;">        }    
</span><span style="color: #008080;">35</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> bo;
</span><span style="color: #008080;">36</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">37</span>     
<span style="color: #008080;">38</span> }</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>&nbsp;</p>
<src onclick="cnblogs_code_show('6da094d0-75e3-4769-bdaf-26cd4e99a807')">
<src class="cnblogs_code" onclick="cnblogs_code_show('33de6239-5c56-422f-b772-ca49b429ac5c')"><img id="code_img_closed_33de6239-5c56-422f-b772-ca49b429ac5c" class="code_img_closed" src="./images/结对编程（java实现）2.png" alt="" /><img id="code_img_opened_33de6239-5c56-422f-b772-ca49b429ac5c" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('33de6239-5c56-422f-b772-ca49b429ac5c',event)" src="./images/结对编程（java实现）3.png" alt="" />
<src id="cnblogs_code_open_33de6239-5c56-422f-b772-ca49b429ac5c" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> jieduitest01;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.Random;
</span><span style="color: #008080;"> 4</span> 
<span style="color: #008080;"> 5</span> <span style="color: #008000;">//</span><span style="color: #008000;">生成表达式</span>
<span style="color: #008080;"> 6</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Expression 
</span><span style="color: #008080;"> 7</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 8</span>     
<span style="color: #008080;"> 9</span>     <span style="color: #0000ff;">static</span> Random ran=<span style="color: #0000ff;">new</span><span style="color: #000000;"> Random();
</span><span style="color: #008080;">10</span>     
<span style="color: #008080;">11</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> String expression(<span style="color: #0000ff;">int</span><span style="color: #000000;"> bound) 
</span><span style="color: #008080;">12</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">13</span>         
<span style="color: #008080;">14</span>         String ziexp1 = <span style="color: #0000ff;">null</span>,ziexp2 = <span style="color: #0000ff;">null</span><span style="color: #000000;">;
</span><span style="color: #008080;">15</span>         
<span style="color: #008080;">16</span>         <span style="color: #008000;">//</span><span style="color: #008000;">概率结合不同的子表达式</span>
<span style="color: #008080;">17</span>         <span style="color: #0000ff;">int</span> i = ran.nextInt(4<span style="color: #000000;">);
</span><span style="color: #008080;">18</span>         <span style="color: #0000ff;">switch</span><span style="color: #000000;">(i) 
</span><span style="color: #008080;">19</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">20</span>         
<span style="color: #008080;">21</span>         <span style="color: #0000ff;">case</span> 0<span style="color: #000000;">:
</span><span style="color: #008080;">22</span>             ziexp1 =<span style="color: #000000;"> RandomNum.nextNumber(bound);
</span><span style="color: #008080;">23</span>             ziexp2 =<span style="color: #000000;"> RandomNum.nextNumber(bound);
</span><span style="color: #008080;">24</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">25</span>         <span style="color: #0000ff;">case</span> 1<span style="color: #000000;">:
</span><span style="color: #008080;">26</span>             ziexp1 =<span style="color: #000000;"> RandomNum.nextNumber(bound);
</span><span style="color: #008080;">27</span>             ziexp2 =<span style="color: #000000;"> SubExpression.ziepression(bound);
</span><span style="color: #008080;">28</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">29</span>         <span style="color: #0000ff;">case</span> 2<span style="color: #000000;">:
</span><span style="color: #008080;">30</span>             ziexp1 =<span style="color: #000000;"> SubExpression.ziepression(bound);
</span><span style="color: #008080;">31</span>             ziexp2 =<span style="color: #000000;"> RandomNum.nextNumber(bound);
</span><span style="color: #008080;">32</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">33</span>         <span style="color: #0000ff;">case</span> 3<span style="color: #000000;">:
</span><span style="color: #008080;">34</span>             ziexp1 =<span style="color: #000000;"> SubExpression.ziepression(bound);
</span><span style="color: #008080;">35</span>             ziexp2 =<span style="color: #000000;"> SubExpression.ziepression(bound);
</span><span style="color: #008080;">36</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">37</span>         <span style="color: #0000ff;">default</span><span style="color: #000000;"> :
</span><span style="color: #008080;">38</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">39</span>         
<span style="color: #008080;">40</span>         String operater =<span style="color: #000000;"> operater();
</span><span style="color: #008080;">41</span>         String exp = ziexp1 +" "+operater+" "+<span style="color: #000000;"> ziexp2;
</span><span style="color: #008080;">42</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> exp;
</span><span style="color: #008080;">43</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">44</span> 
<span style="color: #008080;">45</span>     
<span style="color: #008080;">46</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> String operater()
</span><span style="color: #008080;">47</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">48</span>     
<span style="color: #008080;">49</span>         <span style="color: #0000ff;">int</span> opnum = ran.nextInt(4<span style="color: #000000;">);
</span><span style="color: #008080;">50</span>         <span style="color: #0000ff;">switch</span><span style="color: #000000;">(opnum)
</span><span style="color: #008080;">51</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">52</span>         
<span style="color: #008080;">53</span>         <span style="color: #0000ff;">case</span> 0<span style="color: #000000;">:
</span><span style="color: #008080;">54</span>             <span style="color: #0000ff;">return</span> "+"<span style="color: #000000;">;
</span><span style="color: #008080;">55</span>         <span style="color: #0000ff;">case</span> 1<span style="color: #000000;">:
</span><span style="color: #008080;">56</span>             <span style="color: #0000ff;">return</span> "-"<span style="color: #000000;">;
</span><span style="color: #008080;">57</span>         <span style="color: #0000ff;">case</span> 2<span style="color: #000000;">:
</span><span style="color: #008080;">58</span>             <span style="color: #0000ff;">return</span> "&times;"<span style="color: #000000;">;
</span><span style="color: #008080;">59</span>         <span style="color: #0000ff;">case</span> 3<span style="color: #000000;">:
</span><span style="color: #008080;">60</span>             <span style="color: #0000ff;">return</span> "&divide;"<span style="color: #000000;">;
</span><span style="color: #008080;">61</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">62</span>         <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">null</span><span style="color: #000000;">;
</span><span style="color: #008080;">63</span> <span style="color: #000000;">    }    
</span><span style="color: #008080;">64</span>     
<span style="color: #008080;">65</span> }</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>&nbsp;</p>

<p>2.将生成的表达式计算出结果的代码（用到波兰表达式，即后缀表达式）：</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('e02f7c15-d81b-4de3-b17d-a1f187429594')"><img id="code_img_closed_e02f7c15-d81b-4de3-b17d-a1f187429594" class="code_img_closed" src="./images/结对编程（java实现）2.png" alt="" /><img id="code_img_opened_e02f7c15-d81b-4de3-b17d-a1f187429594" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('e02f7c15-d81b-4de3-b17d-a1f187429594',event)" src="./images/结对编程（java实现）3.png" alt="" />
<src id="cnblogs_code_open_e02f7c15-d81b-4de3-b17d-a1f187429594" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;">  1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> jieduitest01;
</span><span style="color: #008080;">  2</span> 
<span style="color: #008080;">  3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.HashMap;
</span><span style="color: #008080;">  4</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.Stack;
</span><span style="color: #008080;">  5</span> 
<span style="color: #008080;">  6</span> <span style="color: #008000;">//</span><span style="color: #008000;">传入生成的表达式计算出结果</span>
<span style="color: #008080;">  7</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Calculate 
</span><span style="color: #008080;">  8</span> <span style="color: #000000;">{
</span><span style="color: #008080;">  9</span>     <span style="color: #008000;">//</span><span style="color: #008000;">用HashMap存储运算符及其优先级</span>
<span style="color: #008080;"> 10</span>      HashMap&lt;String,Integer&gt;<span style="color: #000000;"> opls;
</span><span style="color: #008080;"> 11</span> <span style="color: #000000;">     String str0;
</span><span style="color: #008080;"> 12</span>      
<span style="color: #008080;"> 13</span>      <span style="color: #008000;">//</span><span style="color: #008000;">构造函数，并初始化各个运算符的优先级</span>
<span style="color: #008080;"> 14</span>      <span style="color: #0000ff;">public</span><span style="color: #000000;"> Calculate(String str0) 
</span><span style="color: #008080;"> 15</span> <span style="color: #000000;">     {
</span><span style="color: #008080;"> 16</span>          <span style="color: #0000ff;">this</span>.str0 =<span style="color: #000000;"> str0;
</span><span style="color: #008080;"> 17</span>          <span style="color: #0000ff;">if</span>(opls==<span style="color: #0000ff;">null</span><span style="color: #000000;">) 
</span><span style="color: #008080;"> 18</span> <span style="color: #000000;">         {
</span><span style="color: #008080;"> 19</span>              opls = <span style="color: #0000ff;">new</span> HashMap&lt;String,Integer&gt;(4<span style="color: #000000;">);
</span><span style="color: #008080;"> 20</span>                 opls.put("+",0<span style="color: #000000;">);
</span><span style="color: #008080;"> 21</span>                 opls.put("-",0<span style="color: #000000;">);
</span><span style="color: #008080;"> 22</span>                 opls.put("&times;",1<span style="color: #000000;">);
</span><span style="color: #008080;"> 23</span>                 opls.put("&divide;",1<span style="color: #000000;">);
</span><span style="color: #008080;"> 24</span> <span style="color: #000000;">         }
</span><span style="color: #008080;"> 25</span> <span style="color: #000000;">     }
</span><span style="color: #008080;"> 26</span> 
<span style="color: #008080;"> 27</span>     <span style="color: #008000;">//</span><span style="color: #008000;">将中缀表达式转化成后缀表达式</span>
<span style="color: #008080;"> 28</span>     <span style="color: #0000ff;">public</span><span style="color: #000000;"> String houzhuiexp() 
</span><span style="color: #008080;"> 29</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 30</span>         <span style="color: #008000;">//</span><span style="color: #008000;">出去空格符</span>
<span style="color: #008080;"> 31</span>         String str = str0.replace(" ",""<span style="color: #000000;">);
</span><span style="color: #008080;"> 32</span>         <span style="color: #008000;">//</span><span style="color: #008000;">将中缀表达式分割放入数组</span>
<span style="color: #008080;"> 33</span>         String[] strArray =<span style="color: #000000;"> split(str);
</span><span style="color: #008080;"> 34</span>         <span style="color: #008000;">//</span><span style="color: #008000;">后缀表达式存储栈</span>
<span style="color: #008080;"> 35</span>         Stack&lt;String&gt; houzhuiSta = <span style="color: #0000ff;">new</span> Stack&lt;String&gt;<span style="color: #000000;">();
</span><span style="color: #008080;"> 36</span>         <span style="color: #008000;">//</span><span style="color: #008000;">临时栈</span>
<span style="color: #008080;"> 37</span>         Stack&lt;String&gt; temStack = <span style="color: #0000ff;">new</span> Stack&lt;String&gt;<span style="color: #000000;">();
</span><span style="color: #008080;"> 38</span>         
<span style="color: #008080;"> 39</span>         <span style="color: #0000ff;">for</span><span style="color: #000000;">(String src:strArray) 
</span><span style="color: #008080;"> 40</span> <span style="color: #000000;">        {
</span><span style="color: #008080;"> 41</span>             <span style="color: #008000;">//</span><span style="color: #008000;">将操作数直接压入后缀表达式的栈</span>
<span style="color: #008080;"> 42</span>             <span style="color: #0000ff;">if</span><span style="color: #000000;">(isNum(src))
</span><span style="color: #008080;"> 43</span>                 houzhuiSta.push("("+src+")"<span style="color: #000000;">);
</span><span style="color: #008080;"> 44</span>             <span style="color: #0000ff;">else</span> <span style="color: #008000;">//</span><span style="color: #008000;">操作数或者括号</span>
<span style="color: #008080;"> 45</span> <span style="color: #000000;">            {   
</span><span style="color: #008080;"> 46</span>                 <span style="color: #0000ff;">if</span>(temStack.isEmpty()||src.equals("("<span style="color: #000000;">))
</span><span style="color: #008080;"> 47</span>                 {   <span style="color: #008000;">//</span><span style="color: #008000;">"("或临时栈为空  </span>
<span style="color: #008080;"> 48</span> <span style="color: #000000;">                    temStack.push(src);
</span><span style="color: #008080;"> 49</span> <span style="color: #000000;">                }
</span><span style="color: #008080;"> 50</span>                 <span style="color: #0000ff;">else</span> 
<span style="color: #008080;"> 51</span> <span style="color: #000000;">                {   
</span><span style="color: #008080;"> 52</span>                     <span style="color: #0000ff;">if</span><span style="color: #000000;">(isLow(temStack.peek(),src))
</span><span style="color: #008080;"> 53</span> <span style="color: #000000;">                    {
</span><span style="color: #008080;"> 54</span>                         <span style="color: #0000ff;">if</span>(!src.equals(")"<span style="color: #000000;">))
</span><span style="color: #008080;"> 55</span>                         {   <span style="color: #008000;">////</span><span style="color: #008000;">优先级比临时栈栈首值的低</span>
<span style="color: #008080;"> 56</span>                             <span style="color: #0000ff;">while</span>((!temStack.isEmpty())&amp;&amp;<span style="color: #000000;">(isLow(temStack.peek(),src))) 
</span><span style="color: #008080;"> 57</span> <span style="color: #000000;">                            {
</span><span style="color: #008080;"> 58</span> <span style="color: #000000;">                                houzhuiSta.push(temStack.pop());
</span><span style="color: #008080;"> 59</span> <span style="color: #000000;">                            }
</span><span style="color: #008080;"> 60</span> <span style="color: #000000;">                            temStack.push(src);
</span><span style="color: #008080;"> 61</span>                         }<span style="color: #0000ff;">else</span><span style="color: #008000;">//</span><span style="color: #008000;">为")" </span>
<span style="color: #008080;"> 62</span>                         {   <span style="color: #008000;">//</span><span style="color: #008000;">临时栈栈首的值不为"("</span>
<span style="color: #008080;"> 63</span>                             <span style="color: #0000ff;">while</span>((!temStack.isEmpty())&amp;&amp;!(temStack.peek().equals("("<span style="color: #000000;">))) 
</span><span style="color: #008080;"> 64</span> <span style="color: #000000;">                            {
</span><span style="color: #008080;"> 65</span> <span style="color: #000000;">                                houzhuiSta.push(temStack.pop());
</span><span style="color: #008080;"> 66</span> <span style="color: #000000;">                            }
</span><span style="color: #008080;"> 67</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">临时栈栈首的值为"("</span>
<span style="color: #008080;"> 68</span>                             <span style="color: #0000ff;">if</span>((!temStack.isEmpty())&amp;&amp;(temStack.peek().equals("("<span style="color: #000000;">)))
</span><span style="color: #008080;"> 69</span> <span style="color: #000000;">                            {    
</span><span style="color: #008080;"> 70</span> <span style="color: #000000;">                                temStack.pop();
</span><span style="color: #008080;"> 71</span> <span style="color: #000000;">                            }
</span><span style="color: #008080;"> 72</span> <span style="color: #000000;">                        }
</span><span style="color: #008080;"> 73</span>                     }<span style="color: #0000ff;">else</span> 
<span style="color: #008080;"> 74</span> <span style="color: #000000;">                    {
</span><span style="color: #008080;"> 75</span> <span style="color: #000000;">                        temStack.push(src);
</span><span style="color: #008080;"> 76</span> <span style="color: #000000;">                    }
</span><span style="color: #008080;"> 77</span> <span style="color: #000000;">                }        
</span><span style="color: #008080;"> 78</span> <span style="color: #000000;">            }
</span><span style="color: #008080;"> 79</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 80</span>         <span style="color: #008000;">//</span><span style="color: #008000;">将临时栈的剩余值压入后缀栈</span>
<span style="color: #008080;"> 81</span>         <span style="color: #0000ff;">while</span>(!<span style="color: #000000;">temStack.empty())
</span><span style="color: #008080;"> 82</span> <span style="color: #000000;">        {    
</span><span style="color: #008080;"> 83</span> <span style="color: #000000;">            houzhuiSta.push(temStack.pop());
</span><span style="color: #008080;"> 84</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 85</span>         <span style="color: #008000;">//</span><span style="color: #008000;">将后缀栈中的后缀表达式转化为字符串返回</span>
<span style="color: #008080;"> 86</span>         StringBuilder sb1 = <span style="color: #0000ff;">new</span><span style="color: #000000;"> StringBuilder();
</span><span style="color: #008080;"> 87</span>         <span style="color: #0000ff;">for</span><span style="color: #000000;">(String str1:houzhuiSta) 
</span><span style="color: #008080;"> 88</span> <span style="color: #000000;">        {
</span><span style="color: #008080;"> 89</span> <span style="color: #000000;">            sb1.append(str1);
</span><span style="color: #008080;"> 90</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 91</span> <span style="color: #000000;">        houzhuiSta.clear();
</span><span style="color: #008080;"> 92</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> sb1.toString();
</span><span style="color: #008080;"> 93</span>         
<span style="color: #008080;"> 94</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 95</span>     
<span style="color: #008080;"> 96</span>     <span style="color: #008000;">//</span><span style="color: #008000;">分割表达式</span>
<span style="color: #008080;"> 97</span>     <span style="color: #0000ff;">public</span><span style="color: #000000;"> String[] split(String str) 
</span><span style="color: #008080;"> 98</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 99</span>         
<span style="color: #008080;">100</span>         StringBuilder sb = <span style="color: #0000ff;">new</span> StringBuilder(str.length()*2<span style="color: #000000;">);
</span><span style="color: #008080;">101</span>         <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">char</span><span style="color: #000000;"> ch:str.toCharArray()) 
</span><span style="color: #008080;">102</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">103</span>             
<span style="color: #008080;">104</span>             <span style="color: #0000ff;">if</span>(ch=='+'||ch=='-'||ch=='&times;'||ch=='&divide;'||ch=='('||ch==')'<span style="color: #000000;">) 
</span><span style="color: #008080;">105</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">106</span>                 sb.append(","<span style="color: #000000;">);
</span><span style="color: #008080;">107</span> <span style="color: #000000;">                sb.append(ch);
</span><span style="color: #008080;">108</span>                 sb.append(","<span style="color: #000000;">);
</span><span style="color: #008080;">109</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">110</span>             <span style="color: #0000ff;">else</span> 
<span style="color: #008080;">111</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">112</span> <span style="color: #000000;">                sb.append(ch);
</span><span style="color: #008080;">113</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">114</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">115</span>         String src = sb.toString().replaceAll(",{2,}",","<span style="color: #000000;">);
</span><span style="color: #008080;">116</span>         <span style="color: #0000ff;">return</span> src.split(","<span style="color: #000000;">);
</span><span style="color: #008080;">117</span>         
<span style="color: #008080;">118</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">119</span>     
<span style="color: #008080;">120</span>     <span style="color: #008000;">//</span><span style="color: #008000;">分割后缀表达式</span>
<span style="color: #008080;">121</span>     <span style="color: #0000ff;">public</span><span style="color: #000000;"> String[] splitHou(String str) 
</span><span style="color: #008080;">122</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">123</span>         
<span style="color: #008080;">124</span>         StringBuilder sb = <span style="color: #0000ff;">new</span><span style="color: #000000;"> StringBuilder(str.length());
</span><span style="color: #008080;">125</span>         <span style="color: #0000ff;">int</span> i = 0<span style="color: #000000;">;
</span><span style="color: #008080;">126</span>         <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">char</span><span style="color: #000000;"> ch:str.toCharArray()) 
</span><span style="color: #008080;">127</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">128</span>             <span style="color: #0000ff;">if</span>(ch=='+'||ch=='-'||ch=='&times;'||ch=='&divide;'<span style="color: #000000;">) 
</span><span style="color: #008080;">129</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">130</span>                 sb.append(","<span style="color: #000000;">);
</span><span style="color: #008080;">131</span> <span style="color: #000000;">                sb.append(ch);
</span><span style="color: #008080;">132</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">133</span>             <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(ch=='('||ch==')'<span style="color: #000000;">) 
</span><span style="color: #008080;">134</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">135</span>                 <span style="color: #0000ff;">if</span>(i&gt;=1<span style="color: #000000;">) 
</span><span style="color: #008080;">136</span> <span style="color: #000000;">                {
</span><span style="color: #008080;">137</span>                     sb.append(','<span style="color: #000000;">);
</span><span style="color: #008080;">138</span> <span style="color: #000000;">                }
</span><span style="color: #008080;">139</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">140</span>             <span style="color: #0000ff;">else</span>
<span style="color: #008080;">141</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">142</span> <span style="color: #000000;">                sb.append(ch);
</span><span style="color: #008080;">143</span>                 i++<span style="color: #000000;">;
</span><span style="color: #008080;">144</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">145</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">146</span>         String src = sb.toString().replaceAll(",{2,}",","<span style="color: #000000;">);
</span><span style="color: #008080;">147</span>         <span style="color: #0000ff;">return</span> src.split(","<span style="color: #000000;">);
</span><span style="color: #008080;">148</span>         
<span style="color: #008080;">149</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">150</span>     
<span style="color: #008080;">151</span>     <span style="color: #008000;">//</span><span style="color: #008000;">化简分数</span>
<span style="color: #008080;">152</span> <span style="color: #000000;">    String simplify(String exResult) 
</span><span style="color: #008080;">153</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">154</span>         SplitFra sp = <span style="color: #0000ff;">new</span><span style="color: #000000;"> SplitFra(exResult);
</span><span style="color: #008080;">155</span>         <span style="color: #0000ff;">int</span> numberater =<span style="color: #000000;">sp.getNumberater();
</span><span style="color: #008080;">156</span>         <span style="color: #0000ff;">int</span> deno =<span style="color: #000000;">sp.getDeno();
</span><span style="color: #008080;">157</span>         <span style="color: #0000ff;">int</span> comDiv =<span style="color: #000000;"> comDivisor(numberater,deno);
</span><span style="color: #008080;">158</span>         numberater /=<span style="color: #000000;"> comDiv;
</span><span style="color: #008080;">159</span>         deno /=<span style="color: #000000;"> comDiv;
</span><span style="color: #008080;">160</span>         <span style="color: #0000ff;">int</span> integer = numberater/<span style="color: #000000;">deno;
</span><span style="color: #008080;">161</span>         <span style="color: #0000ff;">int</span> fration = numberater%<span style="color: #000000;">deno;
</span><span style="color: #008080;">162</span>         <span style="color: #0000ff;">if</span>(integer == 0<span style="color: #000000;">) 
</span><span style="color: #008080;">163</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">164</span>             <span style="color: #0000ff;">return</span> fration + "/" +<span style="color: #000000;"> deno;
</span><span style="color: #008080;">165</span>         }<span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (fration == 0<span style="color: #000000;">)
</span><span style="color: #008080;">166</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">167</span>             <span style="color: #0000ff;">return</span> integer+""<span style="color: #000000;">;
</span><span style="color: #008080;">168</span>         }<span style="color: #0000ff;">else</span>
<span style="color: #008080;">169</span> <span style="color: #000000;">        {    
</span><span style="color: #008080;">170</span>             <span style="color: #0000ff;">return</span> integer + "'" + fration + "/" +<span style="color: #000000;">deno;
</span><span style="color: #008080;">171</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">172</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">173</span>     
<span style="color: #008080;">174</span>     <span style="color: #008000;">//</span><span style="color: #008000;">辗转相除法求最大公约数</span>
<span style="color: #008080;">175</span>     <span style="color: #0000ff;">int</span> comDivisor(<span style="color: #0000ff;">int</span> a,<span style="color: #0000ff;">int</span><span style="color: #000000;"> b) 
</span><span style="color: #008080;">176</span>     {   <span style="color: #0000ff;">int</span> c = 1<span style="color: #000000;">;
</span><span style="color: #008080;">177</span>         <span style="color: #0000ff;">while</span>(a % b != 0<span style="color: #000000;">) 
</span><span style="color: #008080;">178</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">179</span>             c = a %<span style="color: #000000;"> b;
</span><span style="color: #008080;">180</span>             a =<span style="color: #000000;"> b;
</span><span style="color: #008080;">181</span>             b =<span style="color: #000000;"> c;
</span><span style="color: #008080;">182</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">183</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> b;
</span><span style="color: #008080;">184</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">185</span>     
<span style="color: #008080;">186</span>     <span style="color: #008000;">//</span><span style="color: #008000;">判断是否是操作数</span>
<span style="color: #008080;">187</span>      <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">boolean</span><span style="color: #000000;"> isNum(String str) 
</span><span style="color: #008080;">188</span> <span style="color: #000000;">     {
</span><span style="color: #008080;">189</span>             <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">char</span><span style="color: #000000;"> ch : str.toCharArray()) 
</span><span style="color: #008080;">190</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">191</span>                 <span style="color: #0000ff;">if</span>(ch=='+'||ch=='-'||ch=='&times;'||ch=='&divide;'||ch=='('||ch==')'<span style="color: #000000;">)
</span><span style="color: #008080;">192</span>                     <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
</span><span style="color: #008080;">193</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">194</span>             <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
</span><span style="color: #008080;">195</span> <span style="color: #000000;">     }
</span><span style="color: #008080;">196</span>      
<span style="color: #008080;">197</span>      <span style="color: #008000;">//</span><span style="color: #008000;">比较优先级</span>
<span style="color: #008080;">198</span>      <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">boolean</span><span style="color: #000000;"> isLow(String pop, String str) 
</span><span style="color: #008080;">199</span> <span style="color: #000000;">     {
</span><span style="color: #008080;">200</span>             <span style="color: #0000ff;">if</span>(str.equals(")"<span style="color: #000000;">))
</span><span style="color: #008080;">201</span>                 <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
</span><span style="color: #008080;">202</span>             <span style="color: #0000ff;">if</span>(opls.get(pop)==<span style="color: #0000ff;">null</span>||opls.get(str)==<span style="color: #0000ff;">null</span><span style="color: #000000;">)
</span><span style="color: #008080;">203</span>               <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
</span><span style="color: #008080;">204</span>             <span style="color: #0000ff;">return</span> opls.get(pop)&gt;=<span style="color: #000000;">opls.get(str);
</span><span style="color: #008080;">205</span> <span style="color: #000000;">     }   
</span><span style="color: #008080;">206</span>      
<span style="color: #008080;">207</span>      <span style="color: #008000;">//</span><span style="color: #008000;">调用递归方法利用后缀表达式计算结果</span>
<span style="color: #008080;">208</span>      <span style="color: #0000ff;">public</span><span style="color: #000000;"> String calculate() 
</span><span style="color: #008080;">209</span> <span style="color: #000000;">     {   
</span><span style="color: #008080;">210</span>          <span style="color: #008000;">//</span><span style="color: #008000;">后缀表达式</span>
<span style="color: #008080;">211</span>          String houhzhuiExp =<span style="color: #000000;"> houzhuiexp();
</span><span style="color: #008080;">212</span>          String[] strs =<span style="color: #000000;"> splitHou(houzhuiexp());
</span><span style="color: #008080;">213</span>          <span style="color: #008000;">//</span><span style="color: #008000;">调用递归得到结果</span>
<span style="color: #008080;">214</span>          String exResult =<span style="color: #000000;"> recursion(strs);
</span><span style="color: #008080;">215</span>          <span style="color: #008000;">//</span><span style="color: #008000;">计算过程产生负数返回"?"</span>
<span style="color: #008080;">216</span>          <span style="color: #0000ff;">if</span>(exResult.equals("?"<span style="color: #000000;">))
</span><span style="color: #008080;">217</span> <span style="color: #000000;">         {
</span><span style="color: #008080;">218</span>              <span style="color: #0000ff;">return</span> "?"<span style="color: #000000;">;
</span><span style="color: #008080;">219</span> <span style="color: #000000;">         }
</span><span style="color: #008080;">220</span> <span style="color: #000000;">         String result ;
</span><span style="color: #008080;">221</span>          <span style="color: #008000;">//</span><span style="color: #008000;">结果是分数，化简</span>
<span style="color: #008080;">222</span>          <span style="color: #0000ff;">if</span>(exResult.contains("/"<span style="color: #000000;">)) 
</span><span style="color: #008080;">223</span> <span style="color: #000000;">         {
</span><span style="color: #008080;">224</span>             result =<span style="color: #000000;"> simplify(exResult);
</span><span style="color: #008080;">225</span>          }<span style="color: #0000ff;">else</span> 
<span style="color: #008080;">226</span> <span style="color: #000000;">         {
</span><span style="color: #008080;">227</span>              result =<span style="color: #000000;"> exResult;
</span><span style="color: #008080;">228</span> <span style="color: #000000;">         }     
</span><span style="color: #008080;">229</span>          <span style="color: #0000ff;">return</span><span style="color: #000000;"> result;
</span><span style="color: #008080;">230</span> <span style="color: #000000;">     }
</span><span style="color: #008080;">231</span>      <span style="color: #008000;">//</span><span style="color: #008000;">递归方法</span>
<span style="color: #008080;">232</span>      <span style="color: #0000ff;">public</span><span style="color: #000000;"> String recursion(String[] str) 
</span><span style="color: #008080;">233</span> <span style="color: #000000;">     {   
</span><span style="color: #008080;">234</span>         <span style="color: #008000;">//</span><span style="color: #008000;">计算过程是否出现负数的标记 </span>
<span style="color: #008080;">235</span>          <span style="color: #0000ff;">boolean</span> flag = <span style="color: #0000ff;">false</span><span style="color: #000000;">;
</span><span style="color: #008080;">236</span>          <span style="color: #0000ff;">int</span> nowlength =<span style="color: #000000;"> str.length;
</span><span style="color: #008080;">237</span>          <span style="color: #0000ff;">if</span>(str[str.length-1]==" "<span style="color: #000000;">)
</span><span style="color: #008080;">238</span> <span style="color: #000000;">         {     
</span><span style="color: #008080;">239</span>              nowlength = str.length-1<span style="color: #000000;">;
</span><span style="color: #008080;">240</span>          }<span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(str.length == 1) <span style="color: #008000;">//</span><span style="color: #008000;">后缀表达式长度为1则递归结束返回结果</span>
<span style="color: #008080;">241</span> <span style="color: #000000;">         {
</span><span style="color: #008080;">242</span>              <span style="color: #0000ff;">return</span> str[0<span style="color: #000000;">];
</span><span style="color: #008080;">243</span> <span style="color: #000000;">         }
</span><span style="color: #008080;">244</span>          String[] nextstr = <span style="color: #0000ff;">new</span> String[nowlength-2<span style="color: #000000;">];
</span><span style="color: #008080;">245</span>          <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i = 2;i&lt;nowlength;i++<span style="color: #000000;">) 
</span><span style="color: #008080;">246</span> <span style="color: #000000;">         {
</span><span style="color: #008080;">247</span>             
<span style="color: #008080;">248</span>              <span style="color: #0000ff;">if</span>(str[i].equals("+")||str[i].equals("-")||str[i].equals("&times;")||str[i].equals("&divide;"<span style="color: #000000;">)) 
</span><span style="color: #008080;">249</span> <span style="color: #000000;">             {
</span><span style="color: #008080;">250</span>                   String num1 = str[i-2<span style="color: #000000;">];
</span><span style="color: #008080;">251</span>                   String num2 = str[i-1<span style="color: #000000;">];
</span><span style="color: #008080;">252</span>                   String operater =<span style="color: #000000;"> str[i];
</span><span style="color: #008080;">253</span> <span style="color: #000000;">                  String result;
</span><span style="color: #008080;">254</span>                   <span style="color: #0000ff;">switch</span><span style="color: #000000;">(operater) 
</span><span style="color: #008080;">255</span> <span style="color: #000000;">                  {
</span><span style="color: #008080;">256</span>                   <span style="color: #0000ff;">case</span> "+"<span style="color: #000000;">:
</span><span style="color: #008080;">257</span>                       result =<span style="color: #000000;"> Math.add(num1,num2);
</span><span style="color: #008080;">258</span>                       <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">259</span>                   <span style="color: #0000ff;">case</span> "-"<span style="color: #000000;">:
</span><span style="color: #008080;">260</span>                       result =<span style="color: #000000;"> Math.sub(num1,num2);
</span><span style="color: #008080;">261</span>                       <span style="color: #008000;">//</span><span style="color: #008000;">有负数产生</span>
<span style="color: #008080;">262</span>                       <span style="color: #0000ff;">if</span>(result.equals("?"<span style="color: #000000;">)) 
</span><span style="color: #008080;">263</span> <span style="color: #000000;">                      {
</span><span style="color: #008080;">264</span>                           flag = <span style="color: #0000ff;">true</span><span style="color: #000000;">;
</span><span style="color: #008080;">265</span> <span style="color: #000000;">                      }
</span><span style="color: #008080;">266</span>                       <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">267</span>                   <span style="color: #0000ff;">case</span> "&times;"<span style="color: #000000;">:
</span><span style="color: #008080;">268</span>                       result =<span style="color: #000000;"> Math.mul(num1,num2);
</span><span style="color: #008080;">269</span>                       <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">270</span>                   <span style="color: #0000ff;">case</span> "&divide;"<span style="color: #000000;">:
</span><span style="color: #008080;">271</span>                       result =<span style="color: #000000;"> Math.div(num1,num2);
</span><span style="color: #008080;">272</span>                       <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">273</span>                   <span style="color: #0000ff;">default</span><span style="color: #000000;"> :
</span><span style="color: #008080;">274</span>                       result = <span style="color: #0000ff;">null</span><span style="color: #000000;">;
</span><span style="color: #008080;">275</span> <span style="color: #000000;">                  }
</span><span style="color: #008080;">276</span>                   <span style="color: #008000;">//</span><span style="color: #008000;">后缀表达式每计算一次，就构建新的后缀表达式</span>
<span style="color: #008080;">277</span>                   <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i1=0;i1&lt;nowlength-2;i1++<span style="color: #000000;">) 
</span><span style="color: #008080;">278</span> <span style="color: #000000;">                  {
</span><span style="color: #008080;">279</span>                        <span style="color: #0000ff;">if</span>(i1&lt;i-2<span style="color: #000000;">) 
</span><span style="color: #008080;">280</span> <span style="color: #000000;">                       {
</span><span style="color: #008080;">281</span>                           nextstr[i1] =<span style="color: #000000;"> str[i1];
</span><span style="color: #008080;">282</span>                        }<span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span>(i1==i-2<span style="color: #000000;">) 
</span><span style="color: #008080;">283</span> <span style="color: #000000;">                       {
</span><span style="color: #008080;">284</span>                           nextstr[i1] =<span style="color: #000000;"> result;
</span><span style="color: #008080;">285</span>                        }<span style="color: #0000ff;">else</span> 
<span style="color: #008080;">286</span> <span style="color: #000000;">                       {
</span><span style="color: #008080;">287</span>                           nextstr[i1] = str[i1+2<span style="color: #000000;">];
</span><span style="color: #008080;">288</span> <span style="color: #000000;">                       }
</span><span style="color: #008080;">289</span> <span style="color: #000000;">                  } 
</span><span style="color: #008080;">290</span>                  <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">291</span> <span style="color: #000000;">             }
</span><span style="color: #008080;">292</span> <span style="color: #000000;">         }
</span><span style="color: #008080;">293</span>          <span style="color: #0000ff;">if</span><span style="color: #000000;">(flag)
</span><span style="color: #008080;">294</span> <span style="color: #000000;">         {
</span><span style="color: #008080;">295</span>             <span style="color: #0000ff;">return</span>  "?"<span style="color: #000000;">;
</span><span style="color: #008080;">296</span> <span style="color: #000000;">         }
</span><span style="color: #008080;">297</span>          <span style="color: #0000ff;">return</span><span style="color: #000000;"> recursion(nextstr);
</span><span style="color: #008080;">298</span> <span style="color: #000000;">     }
</span><span style="color: #008080;">299</span>      
<span style="color: #008080;">300</span> }</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>3.针对相应的题目文档，对答案文档的进行对错统计的代码：</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('16bb7178-c1a0-488d-8d96-727b4a6da463')"><img id="code_img_closed_16bb7178-c1a0-488d-8d96-727b4a6da463" class="code_img_closed" src="./images/结对编程（java实现）2.png" alt="" /><img id="code_img_opened_16bb7178-c1a0-488d-8d96-727b4a6da463" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('16bb7178-c1a0-488d-8d96-727b4a6da463',event)" src="./images/结对编程（java实现）3.png" alt="" />
<src id="cnblogs_code_open_16bb7178-c1a0-488d-8d96-727b4a6da463" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> jieduitest01;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.BufferedReader;
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.File;
</span><span style="color: #008080;"> 5</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.FileNotFoundException;
</span><span style="color: #008080;"> 6</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.FileReader;
</span><span style="color: #008080;"> 7</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.FileWriter;
</span><span style="color: #008080;"> 8</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.IOException;
</span><span style="color: #008080;"> 9</span> 
<span style="color: #008080;">10</span> <span style="color: #008000;">/*</span>
<span style="color: #008080;">11</span> <span style="color: #008000;"> * 输入指令将题目文件的计算结果与答案文件的答案比较
</span><span style="color: #008080;">12</span> <span style="color: #008000;"> * 将正确的及错误的题目数量和题号打印到Grade.txt文件中
</span><span style="color: #008080;">13</span>  <span style="color: #008000;">*/</span>
<span style="color: #008080;">14</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Judge 
</span><span style="color: #008080;">15</span> <span style="color: #000000;">{
</span><span style="color: #008080;">16</span> 
<span style="color: #008080;">17</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> start() <span style="color: #0000ff;">throws</span><span style="color: #000000;"> IOException 
</span><span style="color: #008080;">18</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">19</span>         System.out.println("请输入您的操作指令来进行答案的对错统计：（格式：-e &lt;exercisefile&gt;.txt -a &lt;answerfile&gt;.txt）"<span style="color: #000000;">);
</span><span style="color: #008080;">20</span>         <span style="color: #0000ff;">while</span>(!<span style="color: #000000;">ExtractPath.method()) {}
</span><span style="color: #008080;">21</span>         String exeFilePath =<span style="color: #000000;"> ExtractPath.getExeFilePath();
</span><span style="color: #008080;">22</span>         String answerFilePath =<span style="color: #000000;"> ExtractPath.getAnswerFilePath();
</span><span style="color: #008080;">23</span>         BufferedReader exe = <span style="color: #0000ff;">new</span> BufferedReader(<span style="color: #0000ff;">new</span><span style="color: #000000;"> FileReader(exeFilePath));
</span><span style="color: #008080;">24</span>         BufferedReader answer = <span style="color: #0000ff;">new</span> BufferedReader(<span style="color: #0000ff;">new</span><span style="color: #000000;"> FileReader(answerFilePath));
</span><span style="color: #008080;">25</span>         File grade = <span style="color: #0000ff;">new</span> File("E:\\java\\结对作业\\src\\jieduitest01\\Grade.txt"<span style="color: #000000;">);
</span><span style="color: #008080;">26</span>         FileWriter writeToGrade = <span style="color: #0000ff;">new</span><span style="color: #000000;"> FileWriter(grade);
</span><span style="color: #008080;">27</span>         
<span style="color: #008080;">28</span>         String exep = ""<span style="color: #000000;">;
</span><span style="color: #008080;">29</span>         StringBuilder corretNum = <span style="color: #0000ff;">new</span><span style="color: #000000;"> StringBuilder();
</span><span style="color: #008080;">30</span>         StringBuilder wrongNum = <span style="color: #0000ff;">new</span><span style="color: #000000;"> StringBuilder();
</span><span style="color: #008080;">31</span>         <span style="color: #0000ff;">int</span> corret = 0<span style="color: #000000;">;
</span><span style="color: #008080;">32</span>         <span style="color: #0000ff;">int</span> wrong = 0<span style="color: #000000;">;
</span><span style="color: #008080;">33</span>         <span style="color: #0000ff;">int</span> num = 1<span style="color: #000000;">;
</span><span style="color: #008080;">34</span>         <span style="color: #0000ff;">while</span>((exep = exe.readLine())!=<span style="color: #0000ff;">null</span><span style="color: #000000;">) 
</span><span style="color: #008080;">35</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">36</span>             String anstr =<span style="color: #000000;"> answer.readLine();
</span><span style="color: #008080;">37</span>             String[] exestrs = exep.split("、"<span style="color: #000000;">);
</span><span style="color: #008080;">38</span>             String[] anstrs = anstr.split("、"<span style="color: #000000;">);
</span><span style="color: #008080;">39</span>             String str = exestrs[1].replaceAll("=", ""<span style="color: #000000;">);
</span><span style="color: #008080;">40</span>             Calculate cal = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Calculate(str);
</span><span style="color: #008080;">41</span>             String result =<span style="color: #000000;"> cal.calculate();
</span><span style="color: #008080;">42</span>             String answerstr = anstrs[1<span style="color: #000000;">];
</span><span style="color: #008080;">43</span>             <span style="color: #0000ff;">if</span><span style="color: #000000;">(result.equals(answerstr)) 
</span><span style="color: #008080;">44</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">45</span>                 corret++<span style="color: #000000;">;
</span><span style="color: #008080;">46</span>                 corretNum.append(num + ","<span style="color: #000000;">);
</span><span style="color: #008080;">47</span>             }<span style="color: #0000ff;">else</span> 
<span style="color: #008080;">48</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">49</span>                 wrong++<span style="color: #000000;">;
</span><span style="color: #008080;">50</span>                 wrongNum.append(num + ","<span style="color: #000000;">);
</span><span style="color: #008080;">51</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">52</span>             num++<span style="color: #000000;">;
</span><span style="color: #008080;">53</span>             
<span style="color: #008080;">54</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">55</span>         writeToGrade.write("Corret:  "+corret+"("+corretNum.toString()+")"+"\n"<span style="color: #000000;">);
</span><span style="color: #008080;">56</span>         writeToGrade.write("Wrong:  "+wrong+"("+wrongNum.toString()+")"<span style="color: #000000;">);
</span><span style="color: #008080;">57</span> <span style="color: #000000;">        writeToGrade.close();
</span><span style="color: #008080;">58</span> <span style="color: #000000;">        exe.close();
</span><span style="color: #008080;">59</span> <span style="color: #000000;">        answer.close();
</span><span style="color: #008080;">60</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">61</span> }</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>&nbsp;</p>
<src class="cnblogs_code" onclick="cnblogs_code_show('8819edfe-c818-4b6d-a49e-14c2d34d1d5a')"><img id="code_img_closed_8819edfe-c818-4b6d-a49e-14c2d34d1d5a" class="code_img_closed" src="./images/结对编程（java实现）2.png" alt="" /><img id="code_img_opened_8819edfe-c818-4b6d-a49e-14c2d34d1d5a" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('8819edfe-c818-4b6d-a49e-14c2d34d1d5a',event)" src="./images/结对编程（java实现）3.png" alt="" />
<src id="cnblogs_code_open_8819edfe-c818-4b6d-a49e-14c2d34d1d5a" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> jieduitest01;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.File;
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.Scanner;
</span><span style="color: #008080;"> 5</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.regex.Matcher;
</span><span style="color: #008080;"> 6</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.regex.Pattern;
</span><span style="color: #008080;"> 7</span> 
<span style="color: #008080;"> 8</span> <span style="color: #008000;">/*</span>
<span style="color: #008080;"> 9</span> <span style="color: #008000;"> * 判断输入指令是否正确，并从正确指令中提取目标文件位置
</span><span style="color: #008080;">10</span> <span style="color: #008000;"> * 题目文件位置可由getExeFilePath方法获得
</span><span style="color: #008080;">11</span> <span style="color: #008000;"> * 答案文件位置可由getAnswerFilePath方法获得
</span><span style="color: #008080;">12</span>  <span style="color: #008000;">*/</span>
<span style="color: #008080;">13</span>  <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> ExtractPath {
</span><span style="color: #008080;">14</span>     
<span style="color: #008080;">15</span>     <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> String exeFilePath;
</span><span style="color: #008080;">16</span>     <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> String answerFilePath;
</span><span style="color: #008080;">17</span>     
<span style="color: #008080;">18</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> String getExeFilePath() 
</span><span style="color: #008080;">19</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">20</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> exeFilePath;
</span><span style="color: #008080;">21</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">22</span> 
<span style="color: #008080;">23</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> String getAnswerFilePath() 
</span><span style="color: #008080;">24</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">25</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> answerFilePath;
</span><span style="color: #008080;">26</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">27</span>     
<span style="color: #008080;">28</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">boolean</span><span style="color: #000000;"> method() 
</span><span style="color: #008080;">29</span> <span style="color: #000000;">    {
</span><span style="color: #008080;">30</span> 
<span style="color: #008080;">31</span>         Pattern p = Pattern.compile("(-)(e)(\\s+)(\\S+)(\\.)(txt)(\\s+)(-)(a)(\\s+)(\\S+)(\\.)(txt)"<span style="color: #000000;">);
</span><span style="color: #008080;">32</span>         Scanner scan = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Scanner(System.in);
</span><span style="color: #008080;">33</span>         String str =<span style="color: #000000;"> scan.nextLine();
</span><span style="color: #008080;">34</span>         Matcher m =<span style="color: #000000;"> p.matcher(str);
</span><span style="color: #008080;">35</span>         <span style="color: #0000ff;">boolean</span> bo =<span style="color: #000000;"> m.matches();
</span><span style="color: #008080;">36</span> <span style="color: #000000;">        String[] sarr;
</span><span style="color: #008080;">37</span>         <span style="color: #0000ff;">if</span>(!<span style="color: #000000;">bo) 
</span><span style="color: #008080;">38</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">39</span>             System.out.println("您输入的格式不合法，请按照格式重新输入，格式：-e &lt;exercisefile&gt;.txt -a &lt;answerfile&gt;.txt）"<span style="color: #000000;">);
</span><span style="color: #008080;">40</span>         }<span style="color: #0000ff;">else</span> 
<span style="color: #008080;">41</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">42</span>             sarr = str.split("\\s+"<span style="color: #000000;">);
</span><span style="color: #008080;">43</span>             exeFilePath = sarr[1<span style="color: #000000;">];
</span><span style="color: #008080;">44</span>             answerFilePath = sarr[3<span style="color: #000000;">];
</span><span style="color: #008080;">45</span>             File src1 = <span style="color: #0000ff;">new</span><span style="color: #000000;"> File(exeFilePath);
</span><span style="color: #008080;">46</span>             File src2 = <span style="color: #0000ff;">new</span><span style="color: #000000;"> File(answerFilePath);
</span><span style="color: #008080;">47</span>             <span style="color: #0000ff;">if</span>(!(src1.exists()&amp;&amp;<span style="color: #000000;">src2.exists())) 
</span><span style="color: #008080;">48</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">49</span>                 System.out.println("您输入的文件夹我找不到啊！！！还请重新输入"<span style="color: #000000;">);
</span><span style="color: #008080;">50</span>                 bo = <span style="color: #0000ff;">false</span><span style="color: #000000;">;
</span><span style="color: #008080;">51</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">52</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">53</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> bo;
</span><span style="color: #008080;">54</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">55</span>     
<span style="color: #008080;">56</span> }</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>六、测试运行</h2>
<p>&nbsp;1.生成10000道100以内题目、答案和对错统计：</p>
<p><img src="./images/结对编程（java实现）16.png" alt="" /></p>
<p>&nbsp;<img src="./images/结对编程（java实现）17.png" alt="" /></p>
<p>&nbsp;</p>
<p><img src="./images/结对编程（java实现）18.png" alt="" /></p>
<p>&nbsp;</p>
<p>2.生成500道50以内的题目、答案和对错统计：</p>
<p><img src="./images/结对编程（java实现）19.png" alt="" /></p>
<p>&nbsp;</p>
<p><img src="./images/结对编程（java实现）20.png" alt="" /></p>
<p>3.修改答案文档中的前11道题并单独执行对错统计：</p>
<p><img src="./images/结对编程（java实现）21.png" alt="" /><img src="./images/结对编程（java实现）22.png" alt="" /><img src="./images/结对编程（java实现）23.png" alt="" /></p>
<h2>七、项目小结</h2>
<p>通过这次作业我体验到了编程的乐趣，学习了很多新的知识，收获很多。</p>
<p>&nbsp;</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>