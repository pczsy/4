<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修通俗易懂spring之singleton和prototype' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>通俗易懂spring之singleton和prototype</center></div><div class='banquan'>原文出处:本文由博客园博主Alan_beijing提供。<br/>
原文连接:https://www.cnblogs.com/wangjiming/p/11656374.html</div><br>
    <p>关于spring bean作用域，基于不同的容器，会有所不同，如BeanFactory和ApplicationContext容器就有所不同,在本篇文章，主要讲解基于ApplicationContext容器的bean作用域。</p>
<p>关于bean的作用域，在spring中，主要包括singleton,prototype,session,request,global,本篇文章主要讲解常用的两种，即：singleton和prototype.</p>
<h2><strong>一&nbsp; singleton</strong></h2>
<p>singleton为单例模式，即scope="singleton"的bean，在容器中，只实例化一次。</p>
<p>dao示例代码：</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="12">
<pre><code><code class="language-java hljs"><span class="hljs-keyword">package com.demo.dao;

<span class="hljs-keyword">public <span class="hljs-class"><span class="hljs-keyword">class <span class="hljs-title">UserDao {

    <span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-title">UserDao<span class="hljs-params">(){
        System.out.println(<span class="hljs-string">"UserDao 无参构造函数被调用");
    }
    <span class="hljs-comment">//获取用户名
    <span class="hljs-function"><span class="hljs-keyword">public String <span class="hljs-title">getUserName<span class="hljs-params">(){
        <span class="hljs-comment">//模拟dao层
        <span class="hljs-keyword">return <span class="hljs-string">"Alan_beijing";
    }
}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>applicationContext.xml</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="11">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;lang&amp;quot;:&amp;quot;html&amp;quot;,&amp;quot;code&amp;quot;:&amp;quot;&amp;lt;?xml version=\&amp;quot;1.0\&amp;quot; encoding=\&amp;quot;UTF-8\&amp;quot;?&amp;gt;\n&amp;lt;beans xmlns=\&amp;quot;http://www.springframework.org/schema/beans\&amp;quot;\n       xmlns:xsi=\&amp;quot;http://www.w3.org/2001/XMLSchema-instance\&amp;quot;\n       xsi:schemaLocation=\&amp;quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\&amp;quot;&amp;gt;\n\n    &amp;lt;bean class=\&amp;quot;com.demo.dao.UserDao\&amp;quot; id=\&amp;quot;userDao\&amp;quot; scope=\&amp;quot;singleton\&amp;quot;/&amp;gt;\n&amp;lt;/beans&amp;gt;&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="language-html hljs"><span class="php"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0" encoding=<span class="hljs-string">"UTF-8"<span class="hljs-meta">?&gt;
<span class="hljs-tag">&lt;<span class="hljs-name">beans <span class="hljs-attr">xmlns=<span class="hljs-string">"http://www.springframework.org/schema/beans"
       <span class="hljs-attr">xmlns:xsi=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"
       <span class="hljs-attr">xsi:schemaLocation=<span class="hljs-string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;

    <span class="hljs-tag">&lt;<span class="hljs-name">bean <span class="hljs-attr">class=<span class="hljs-string">"com.demo.dao.UserDao" <span class="hljs-attr">id=<span class="hljs-string">"userDao" <span class="hljs-attr">scope=<span class="hljs-string">"singleton"/&gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">beans&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>test:</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="10">
<pre class="has cke_widget_element" data-cke-widget-data="{&amp;quot;lang&amp;quot;:&amp;quot;java&amp;quot;,&amp;quot;code&amp;quot;:&amp;quot;public class MyTest {\n\n    @Test\n    public void test(){\n        //定义容器并初始化\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\&amp;quot;applicationContext.xml\&amp;quot;);\n\n        //定义第一个对象\n        UserDao userDao = applicationContext.getBean(UserDao.class);\n        System.out.println(userDao.getUserName());\n\n        //定义第二个对象\n        UserDao userDao2 = (UserDao) applicationContext.getBean(\&amp;quot;userDao\&amp;quot;);\n        System.out.println(userDao2.getUserName());\n        //比较两个对象实例是否是同一个对象实例\n        System.out.println(\&amp;quot;第一个实例：\&amp;quot;+userDao+\&amp;quot;\\n\&amp;quot;+\&amp;quot;第二个实例：\&amp;quot;+userDao2);\n    }\n}&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="language-java hljs"><span class="hljs-keyword">public <span class="hljs-class"><span class="hljs-keyword">class <span class="hljs-title">MyTest {

    <span class="hljs-meta">@Test
    <span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">void <span class="hljs-title">test<span class="hljs-params">(){
        <span class="hljs-comment">//定义容器并初始化
        ApplicationContext applicationContext = <span class="hljs-keyword">new ClassPathXmlApplicationContext(<span class="hljs-string">"applicationContext.xml");

        <span class="hljs-comment">//定义第一个对象
        UserDao userDao = applicationContext.getBean(UserDao.class);
        System.out.println(userDao.getUserName());

        <span class="hljs-comment">//定义第二个对象
        UserDao userDao2 = (UserDao) applicationContext.getBean(<span class="hljs-string">"userDao");
        System.out.println(userDao2.getUserName());
        <span class="hljs-comment">//比较两个对象实例是否是同一个对象实例
        System.out.println(<span class="hljs-string">"第一个实例："+userDao+<span class="hljs-string">"\n"+<span class="hljs-string">"第二个实例："+userDao2);
    }
}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>测试结果：</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="9"><img class="has cke_widget_element" src="./images/通俗易懂spring之singleton和prototype3.png" alt="" width="793" height="224" data-cke-saved-src="./images/通俗易懂spring之singleton和prototype3.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/通俗易懂spring之singleton和prototype3.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;793&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;224&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>分析：在测试代码中，将bean定义为singleton，并先后2次通过ApplicationContext的getBean()方法获取bean(userDao),却返回相同的实例对象：com.demo.dao.UserDao@27a5f880，仔细观察，虽然获取bean两次，但是UserDao的无参构造函数却只被调用一次，这也证明了在容器中，singleton实际只被实例化一次，需要注意的是，Singleton模式的bean,ApplicationContext加载bean时，就实例化了bean。</p>
<p>&nbsp;定义bean:</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="8"><img class="has cke_widget_element" src="./images/通俗易懂spring之singleton和prototype5.png" alt="" width="700" height="117" data-cke-saved-src="./images/通俗易懂spring之singleton和prototype5.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/通俗易懂spring之singleton和prototype5.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;700&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;117&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>测试结果：</p>
<p>如下代码只是加载bean，却没调用getBean方法获取bean,但UserDao却被调用了一次，即实例化。</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="7"><img class="has cke_widget_element" src="./images/通俗易懂spring之singleton和prototype7.png" alt="" width="700" height="237" data-cke-saved-src="./images/通俗易懂spring之singleton和prototype7.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/通俗易懂spring之singleton和prototype7.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;700&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;237&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<h2><strong>二 prototype</strong></h2>
<p>prototype即原型模式，调用多少次bean，就实例化多少次。</p>
<p>将singleton代码改为原型</p>
<src class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_wrapper_has cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="代码段" data-cke-widget-id="6">
<pre class="cke_widget_element has" data-cke-widget-data="{&amp;quot;lang&amp;quot;:&amp;quot;html&amp;quot;,&amp;quot;code&amp;quot;:&amp;quot;&amp;lt;?xml version=\&amp;quot;1.0\&amp;quot; encoding=\&amp;quot;UTF-8\&amp;quot;?&amp;gt;\n&amp;lt;beans xmlns=\&amp;quot;http://www.springframework.org/schema/beans\&amp;quot;\n       xmlns:xsi=\&amp;quot;http://www.w3.org/2001/XMLSchema-instance\&amp;quot;\n       xsi:schemaLocation=\&amp;quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\&amp;quot;&amp;gt;\n\n    &amp;lt;bean class=\&amp;quot;com.demo.dao.UserDao\&amp;quot; id=\&amp;quot;userDao\&amp;quot; scope=\&amp;quot;prototype\&amp;quot;/&amp;gt;\n&amp;lt;/beans&amp;gt;&amp;quot;,&amp;quot;classes&amp;quot;:[]}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="codeSnippet"><code class="language-html hljs"><span class="php"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0" encoding=<span class="hljs-string">"UTF-8"<span class="hljs-meta">?&gt;
<span class="hljs-tag">&lt;<span class="hljs-name">beans <span class="hljs-attr">xmlns=<span class="hljs-string">"http://www.springframework.org/schema/beans"
       <span class="hljs-attr">xmlns:xsi=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"
       <span class="hljs-attr">xsi:schemaLocation=<span class="hljs-string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;

    <span class="hljs-tag">&lt;<span class="hljs-name">bean <span class="hljs-attr">class=<span class="hljs-string">"com.demo.dao.UserDao" <span class="hljs-attr">id=<span class="hljs-string">"userDao" <span class="hljs-attr">scope=<span class="hljs-string">"prototype"/&gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">beans&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /></span>
<p>测试代码与singleton一样，但结果却不一样：</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="5"><img class="has cke_widget_element" src="./images/通俗易懂spring之singleton和prototype10.png" alt="" width="684" height="300" data-cke-saved-src="./images/通俗易懂spring之singleton和prototype10.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/通俗易懂spring之singleton和prototype10.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;684&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;300&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>分析：通过测试结果，不难发现，调用两次bean，就实例化两次UserDao对象，且对象不一样，需要注意的是，prototype类型的bean，只有在获取bean时，才会实例化对象。</p>
<h2><strong>三 singleton和prototype区别</strong></h2>
<p>(1)singleton在容器中，只被实例化一次，而prototype在容器中，调用几次，就被实例化几次；</p>
<p>(2)在AppplicationContext容器中，singleton在applicaitonContext.xml加载时就被预先实例化，而prototype必须在调用时才实例化</p>
<p>&nbsp; &nbsp;singleton:</p>
<p>&nbsp;定义bean:</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="4"><img class="has cke_widget_element" src="./images/通俗易懂spring之singleton和prototype5.png" alt="" width="700" height="117" data-cke-saved-src="./images/通俗易懂spring之singleton和prototype5.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/通俗易懂spring之singleton和prototype5.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;700&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;117&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>测试：</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="3"><img class="has cke_widget_element" src="./images/通俗易懂spring之singleton和prototype7.png" alt="" width="700" height="237" data-cke-saved-src="./images/通俗易懂spring之singleton和prototype7.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/通俗易懂spring之singleton和prototype7.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;700&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;237&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>&nbsp;prototype：</p>
<p>定义bean:</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="2"><img class="has cke_widget_element" src="./images/通俗易懂spring之singleton和prototype16.png" alt="" width="700" height="119" data-cke-saved-src="./images/通俗易懂spring之singleton和prototype16.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/通俗易懂spring之singleton和prototype16.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;700&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;119&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>测试：不调用</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="1"><img class="has cke_widget_element" src="./images/通俗易懂spring之singleton和prototype18.png" alt="" width="700" height="269" data-cke-saved-src="./images/通俗易懂spring之singleton和prototype18.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/通俗易懂spring之singleton和prototype18.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;700&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;269&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>测试：调用</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-widget-wrapper="1" data-cke-filter="off" data-cke-display-name="图像" data-cke-widget-id="0"><img class="has cke_widget_element" src="./images/通俗易懂spring之singleton和prototype20.png" alt="" width="700" height="258" data-cke-saved-src="./images/通俗易懂spring之singleton和prototype20.png" data-cke-widget-data="{&amp;quot;hasCaption&amp;quot;:false,&amp;quot;src&amp;quot;:&amp;quot;./images/通俗易懂spring之singleton和prototype20.png&amp;quot;,&amp;quot;alt&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;width&amp;quot;:&amp;quot;700&amp;quot;,&amp;quot;height&amp;quot;:&amp;quot;258&amp;quot;,&amp;quot;lock&amp;quot;:true,&amp;quot;align&amp;quot;:&amp;quot;none&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="image" /><span class="cke_reset cke_widget_drag_handler_container"><img class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="" width="15" height="15" data-cke-widget-drag-handler="1" /><span class="cke_image_resizer" title="点击并拖拽以改变尺寸">​</span></span></span></p>
<p>4.singleton比prototype消耗性能，在web开发中，推荐使用singleton模式，在app开发中，推荐使用prototype模式。</p>
<h2><strong>四 版权区</strong></h2>
<p>&nbsp;转载博客，必须注明博客出处<br />&nbsp;博客园：http://www.cnblogs.com/wangjiming/ (侧重.NET)<br />&nbsp;CSDN：https://blog.csdn.net/u010228798&nbsp;&nbsp;(侧重JAVA)<br />&nbsp;如您有新想法，欢迎提出，邮箱：2098469527@qq.com<br />&nbsp;专业.NET之家技术QQ群：490539956<br />&nbsp;专业化Java之家QQ群：924412846<br />&nbsp; 有问必答QQ群：2098469527<br />&nbsp; &nbsp;一对一技术辅导QQ：2098469527</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>